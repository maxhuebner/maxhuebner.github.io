<!DOCTYPE html><html lang="en-us" >

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 4.8.0">

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Max Hübner">

  
  
  
    
  
  <meta name="description" content="With the Fantasy Football season only a few weeks away, I decided to look back at the 2019 season and the greatest weekly performances.
In this post I will try to visualize the best weekly performances as well as the performance of the best players over the whole season.">

  
  <link rel="alternate" hreflang="en-us" href="/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/">

  


  
  
  
  <meta name="theme-color" content="#2962ff">
  

  
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css" integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css" crossorigin="anonymous" title="hl-light">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" disabled>
        
      
    

    

    

    
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
    
      

      
      

      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js" integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin="anonymous" async></script>
      
    
      

      
      

      
    
      

      
      

      
    
      

      
      
        
      

      
    
      

      
      

      
    

  

  
  
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap">
  

  
  
  
  
  <link rel="stylesheet" href="/css/academic.css">

  




  


  
  

  

  <link rel="manifest" href="/index.webmanifest">
  <link rel="icon" type="image/png" href="/images/icon_hubdc61f67c4acee99af4fb8a14828136d_14904_32x32_fill_lanczos_center_2.png">
  <link rel="apple-touch-icon" type="image/png" href="/images/icon_hubdc61f67c4acee99af4fb8a14828136d_14904_192x192_fill_lanczos_center_2.png">

  <link rel="canonical" href="/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/">

  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary">
  
  <meta property="twitter:site" content="@MaxHuebner36">
  <meta property="twitter:creator" content="@MaxHuebner36">
  
  <meta property="og:site_name" content="Max Hübner">
  <meta property="og:url" content="/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/">
  <meta property="og:title" content="Visualizing the Best Fantasy Football Performances of the 2019 Season | Max Hübner">
  <meta property="og:description" content="With the Fantasy Football season only a few weeks away, I decided to look back at the 2019 season and the greatest weekly performances.
In this post I will try to visualize the best weekly performances as well as the performance of the best players over the whole season."><meta property="og:image" content="/images/icon_hubdc61f67c4acee99af4fb8a14828136d_14904_512x512_fill_lanczos_center_2.png">
  <meta property="twitter:image" content="/images/icon_hubdc61f67c4acee99af4fb8a14828136d_14904_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="en-us">
  
    
      <meta property="article:published_time" content="2020-08-18T00:00:00&#43;00:00">
    
    <meta property="article:modified_time" content="2020-08-18T16:33:20&#43;02:00">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/"
  },
  "headline": "Visualizing the Best Fantasy Football Performances of the 2019 Season",
  
  "datePublished": "2020-08-18T00:00:00Z",
  "dateModified": "2020-08-18T16:33:20+02:00",
  
  "author": {
    "@type": "Person",
    "name": "Max Hübner"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Max Hübner",
    "logo": {
      "@type": "ImageObject",
      "url": "/images/icon_hubdc61f67c4acee99af4fb8a14828136d_14904_192x192_fill_lanczos_center_2.png"
    }
  },
  "description": "With the Fantasy Football season only a few weeks away, I decided to look back at the 2019 season and the greatest weekly performances.\nIn this post I will try to visualize the best weekly performances as well as the performance of the best players over the whole season."
}
</script>

  

  


  


  





  <title>Visualizing the Best Fantasy Football Performances of the 2019 Season | Max Hübner</title>

</head>

<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" >

  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


  







<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Max Hübner</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Max Hübner</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link  active" href="/post"><span>Blog</span></a>
        </li>

        
        

        

        
        
        
          
        

        
        
        
        
        
        

        <li class="nav-item">
          <a class="nav-link " href="/about"><span>About</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">
      

      

      

    </ul>

  </div>
</nav>


  <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Visualizing the Best Fantasy Football Performances of the 2019 Season</h1>

  

  
    


<div class="article-metadata">

  
  

  
  <span class="article-date">
    
    
      
          Last updated on
      
    
    Aug 18, 2020
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    11 min read
  </span>
  

  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/r/">R</a>, <a href="/category/rstats/">rstats</a></span>
  

</div>

    














  
</div>



  <div class="article-container">

    <div class="article-style">
      
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>With the Fantasy Football season only a few weeks away, I decided to look back at the 2019 season and the greatest weekly performances.<br />
In this post I will try to visualize the best weekly performances as well as the performance of the best players over the whole season.</p>
<div id="setup" class="section level2">
<h2>Setup</h2>
<p>First, we need data. Since I didn’t have fantasy specific data I thought the easiest way to do this is to calculate the fantasy points from the Play-By-Play Data.<br />
You can find this and many more great datasets <a href="https://github.com/guga31bb/nflfastR-data">here</a>.</p>
<pre class="r"><code>pbp &lt;- readRDS(url(&quot;https://raw.githubusercontent.com/guga31bb/nflfastR-data/master/data/play_by_play_2019.rds&quot;))

pbp &lt;- pbp %&gt;%
  filter(
    season_type == &quot;REG&quot;,
    between(week, 1, 16)
  )
pbp</code></pre>
<pre><code>## # A tibble: 43,240 x 333
##    play_id game_id old_game_id home_team away_team season_type  week posteam
##      &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;  
##  1       1 2019_0~ 2019090804  MIN       ATL       REG             1 &lt;NA&gt;   
##  2      36 2019_0~ 2019090804  MIN       ATL       REG             1 ATL    
##  3      51 2019_0~ 2019090804  MIN       ATL       REG             1 ATL    
##  4      79 2019_0~ 2019090804  MIN       ATL       REG             1 ATL    
##  5     100 2019_0~ 2019090804  MIN       ATL       REG             1 ATL    
##  6     121 2019_0~ 2019090804  MIN       ATL       REG             1 ATL    
##  7     148 2019_0~ 2019090804  MIN       ATL       REG             1 MIN    
##  8     185 2019_0~ 2019090804  MIN       ATL       REG             1 MIN    
##  9     214 2019_0~ 2019090804  MIN       ATL       REG             1 MIN    
## 10     239 2019_0~ 2019090804  MIN       ATL       REG             1 MIN    
## # ... with 43,230 more rows, and 325 more variables: posteam_type &lt;chr&gt;,
## #   defteam &lt;chr&gt;, side_of_field &lt;chr&gt;, yardline_100 &lt;dbl&gt;, game_date &lt;chr&gt;,
## #   quarter_seconds_remaining &lt;dbl&gt;, half_seconds_remaining &lt;dbl&gt;,
## #   game_seconds_remaining &lt;dbl&gt;, game_half &lt;chr&gt;, quarter_end &lt;dbl&gt;,
## #   drive &lt;dbl&gt;, sp &lt;dbl&gt;, qtr &lt;dbl&gt;, down &lt;dbl&gt;, goal_to_go &lt;dbl&gt;, time &lt;chr&gt;,
## #   yrdln &lt;chr&gt;, ydstogo &lt;dbl&gt;, ydsnet &lt;dbl&gt;, desc &lt;chr&gt;, play_type &lt;chr&gt;,
## #   yards_gained &lt;dbl&gt;, shotgun &lt;dbl&gt;, no_huddle &lt;dbl&gt;, qb_dropback &lt;dbl&gt;,
## #   qb_kneel &lt;dbl&gt;, qb_spike &lt;dbl&gt;, qb_scramble &lt;dbl&gt;, pass_length &lt;chr&gt;,
## #   pass_location &lt;chr&gt;, air_yards &lt;dbl&gt;, yards_after_catch &lt;dbl&gt;,
## #   run_location &lt;chr&gt;, run_gap &lt;chr&gt;, field_goal_result &lt;chr&gt;,
## #   kick_distance &lt;dbl&gt;, extra_point_result &lt;chr&gt;, two_point_conv_result &lt;chr&gt;,
## #   home_timeouts_remaining &lt;dbl&gt;, away_timeouts_remaining &lt;dbl&gt;,
## #   timeout &lt;dbl&gt;, timeout_team &lt;chr&gt;, td_team &lt;chr&gt;,
## #   posteam_timeouts_remaining &lt;dbl&gt;, defteam_timeouts_remaining &lt;dbl&gt;,
## #   total_home_score &lt;dbl&gt;, total_away_score &lt;dbl&gt;, posteam_score &lt;dbl&gt;,
## #   defteam_score &lt;dbl&gt;, score_differential &lt;dbl&gt;, posteam_score_post &lt;dbl&gt;,
## #   defteam_score_post &lt;dbl&gt;, score_differential_post &lt;dbl&gt;,
## #   no_score_prob &lt;dbl&gt;, opp_fg_prob &lt;dbl&gt;, opp_safety_prob &lt;dbl&gt;,
## #   opp_td_prob &lt;dbl&gt;, fg_prob &lt;dbl&gt;, safety_prob &lt;dbl&gt;, td_prob &lt;dbl&gt;,
## #   extra_point_prob &lt;dbl&gt;, two_point_conversion_prob &lt;dbl&gt;, ep &lt;dbl&gt;,
## #   epa &lt;dbl&gt;, total_home_epa &lt;dbl&gt;, total_away_epa &lt;dbl&gt;,
## #   total_home_rush_epa &lt;dbl&gt;, total_away_rush_epa &lt;dbl&gt;,
## #   total_home_pass_epa &lt;dbl&gt;, total_away_pass_epa &lt;dbl&gt;, air_epa &lt;dbl&gt;,
## #   yac_epa &lt;dbl&gt;, comp_air_epa &lt;dbl&gt;, comp_yac_epa &lt;dbl&gt;,
## #   total_home_comp_air_epa &lt;dbl&gt;, total_away_comp_air_epa &lt;dbl&gt;,
## #   total_home_comp_yac_epa &lt;dbl&gt;, total_away_comp_yac_epa &lt;dbl&gt;,
## #   total_home_raw_air_epa &lt;dbl&gt;, total_away_raw_air_epa &lt;dbl&gt;,
## #   total_home_raw_yac_epa &lt;dbl&gt;, total_away_raw_yac_epa &lt;dbl&gt;, wp &lt;dbl&gt;,
## #   def_wp &lt;dbl&gt;, home_wp &lt;dbl&gt;, away_wp &lt;dbl&gt;, wpa &lt;dbl&gt;, home_wp_post &lt;dbl&gt;,
## #   away_wp_post &lt;dbl&gt;, vegas_wp &lt;dbl&gt;, vegas_home_wp &lt;dbl&gt;,
## #   total_home_rush_wpa &lt;dbl&gt;, total_away_rush_wpa &lt;dbl&gt;,
## #   total_home_pass_wpa &lt;dbl&gt;, total_away_pass_wpa &lt;dbl&gt;, air_wpa &lt;dbl&gt;,
## #   yac_wpa &lt;dbl&gt;, comp_air_wpa &lt;dbl&gt;, comp_yac_wpa &lt;dbl&gt;,
## #   total_home_comp_air_wpa &lt;dbl&gt;, ...</code></pre>
<p>We now have every play of the 2019 NFL season! The dataset is missing fantasy points, so we need to calculate them for the game we are interested in. Since we will reuse this calculation a lot, it’s best to write a function. I will call it <em>calc_ff</em>:<br />
You can use <code>. %&gt;%</code> to create a anonymous function. The function calculates the time, that has progressed since the start of a game in seconds, in order to sort it by this variable. This is necessary because we will use <code>accumulate()</code> to sum up the plays shortly.<br />
After that we will calculate the points. Every yards gained equals a tenth of a point, touchdowns give 6 points, if you fumble you will lose 2 points. This calculation is for the <em>.5PPR</em> format, so each reception will give you half a point. You get 2 points for a successful Two-Point-Conversion.<br />
After that, we accumulate the independent plays in order to get the total fantasy points up to that point.<br />
Lastly, I used the relatively new but awesome function <code>relocate()</code> to display the points in front. We will also create a function to calculate for the whole season.<br />
<em>(Note: This calculation will only work for skill positions, if you would like to analyze Quaterbacks you have to change the function a bit)</em></p>
<pre class="r"><code>calc_ff &lt;- . %&gt;%
  arrange(desc(game_seconds_remaining)) %&gt;%
  mutate(time_in_sec = 3600 - game_seconds_remaining) %&gt;%
  mutate(
    ff_points = yards_gained / 10,
    ff_points = ifelse(touchdown, ff_points + 6, ff_points),
    ff_points = ifelse(fumble_lost, ff_points - 2, ff_points),
    ff_points = ifelse(play_type == &quot;pass&quot; &amp; complete_pass, ff_points + .5, ff_points),
    ff_points = ifelse(two_point_attempt &amp; two_point_conv_result == &quot;success&quot;, 2, ff_points),
    ff_points_sum = accumulate(ff_points, sum),
    ff_points_total = last(ff_points_sum)
  ) %&gt;%
  relocate(contains(&quot;ff_points&quot;), .before = play_id)

calc_ff_season &lt;- . %&gt;%
  group_by(game_date) %&gt;%
  calc_ff() %&gt;%
  ungroup()</code></pre>
<p>Visualization for NFl related things is a perfect opportunity to try out the package <em>teamcolors</em>.<br />
There is a little bit of setup required to get it to work with our data</p>
<pre class="r"><code>library(teamcolors)

# Unfortunately Play-By-Play Data uses Abbreviations while Teamcolors uses full names
team_abbr &lt;- tribble(
  ~name, ~team_code,
  &quot;Arizona Cardinals&quot;, &quot;ARI&quot;,
  &quot;Atlanta Falcons&quot;, &quot;ATL&quot;,
  &quot;Baltimore Ravens&quot;, &quot;BAL&quot;,
  &quot;Buffalo Bills&quot;, &quot;BUF&quot;,
  &quot;Carolina Panthers&quot;, &quot;CAR&quot;,
  &quot;Chicago Bears&quot;, &quot;CHI&quot;,
  &quot;Cincinnati Bengals&quot;, &quot;CIN&quot;,
  &quot;Cleveland Browns&quot;, &quot;CLE&quot;,
  &quot;Dallas Cowboys&quot;, &quot;DAL&quot;,
  &quot;Denver Broncos&quot;, &quot;DEN&quot;,
  &quot;Detroit Lions&quot;, &quot;DET&quot;,
  &quot;Green Bay Packers&quot;, &quot;GB&quot;,
  &quot;Houston Texans&quot;, &quot;HOU&quot;,
  &quot;Indianapolis Colts&quot;, &quot;IND&quot;,
  &quot;Jacksonville Jaguars&quot;, &quot;JAX&quot;,
  &quot;Kansas City Chiefs&quot;, &quot;KC&quot;,
  &quot;Los Angeles Chargers&quot;, &quot;LAC&quot;,
  &quot;Los Angeles Rams&quot;, &quot;LA&quot;,
  &quot;Miami Dolphins&quot;, &quot;MIA&quot;,
  &quot;Minnesota Vikings&quot;, &quot;MIN&quot;,
  &quot;New England Patriots&quot;, &quot;NE&quot;,
  &quot;New Orleans Saints&quot;, &quot;NO&quot;,
  &quot;New York Giants&quot;, &quot;NYG&quot;,
  &quot;New York Jets&quot;, &quot;NYJ&quot;,
  &quot;Oakland Raiders&quot;, &quot;LV&quot;,
  &quot;Philadelphia Eagles&quot;, &quot;PHI&quot;,
  &quot;Pittsburgh Steelers&quot;, &quot;PIT&quot;,
  &quot;San Francisco 49ers&quot;, &quot;SF&quot;,
  &quot;Seattle Seahawks&quot;, &quot;SEA&quot;,
  &quot;Tampa Bay Buccaneers&quot;, &quot;TB&quot;,
  &quot;Tennessee Titans&quot;, &quot;TEN&quot;,
  &quot;Washington Redskins&quot;, &quot;WAS&quot;
)

teamcols &lt;- filter(teamcolors, league == &quot;nfl&quot;) %&gt;%
  left_join(team_abbr, by = &quot;name&quot;) %&gt;%
  select(team_code, name, primary, secondary, logo)

teamcols</code></pre>
<pre><code>## # A tibble: 32 x 5
##    team_code name        primary secondary logo                                 
##    &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;                                
##  1 ARI       Arizona Ca~ #97233f #000000   http://content.sportslogos.net/logos~
##  2 ATL       Atlanta Fa~ #a71930 #000000   http://content.sportslogos.net/logos~
##  3 BAL       Baltimore ~ #241773 #000000   http://content.sportslogos.net/logos~
##  4 BUF       Buffalo Bi~ #00338d #c60c30   http://content.sportslogos.net/logos~
##  5 CAR       Carolina P~ #0085ca #000000   http://content.sportslogos.net/logos~
##  6 CHI       Chicago Be~ #0b162a #c83803   http://content.sportslogos.net/logos~
##  7 CIN       Cincinnati~ #000000 #fb4f14   http://content.sportslogos.net/logos~
##  8 CLE       Cleveland ~ #fb4f14 #22150c   http://content.sportslogos.net/logos~
##  9 DAL       Dallas Cow~ #002244 #b0b7bc   http://content.sportslogos.net/logos~
## 10 DEN       Denver Bro~ #002244 #fb4f14   http://content.sportslogos.net/logos~
## # ... with 22 more rows</code></pre>
<p>Now that we have the team abbreviations we can join with our dataset:</p>
<pre class="r"><code>pbp &lt;- pbp %&gt;% left_join(teamcols, by = c(&quot;posteam&quot; = &quot;team_code&quot;))</code></pre>
<p>We are finally ready to do some visualization.</p>
</div>
<div id="visualization-of-weekly-perfomances" class="section level2">
<h2>Visualization of weekly perfomances</h2>
<p>As discussed earlier in this post, we will reuse the same plot a few times, so we should just write a function for it. We want to plot the performance of a player for a given week so those will be our arguments along with a plot title.<br />
I also would like to make the graph interactive, using the <em>plotly</em> package.<br />
First we filter out only the plays for our player (using his id) and the given week. The dataset now only contains plays from the specified week, where the player was involved as a receiver or runner, so on this data we can run our function to calculate his fantasy points.<br />
<code>text_disp</code> will contain the text, that we want to display if you hover over an event. Events are either a Touchdown, which we will display as a red dot or a fumble, which will be a black dot.<br />
The Line, that shows the Fantasy Points over Game Time will be colored in the primary color of the players team.<br />
Each quater will be seperated by a dashed <em>vline</em>. The rest of the code is necessary so that plotly won’t display labels for the time axis.</p>
<p><strong>Edit</strong>: Unfortunately Plotly does not seem to work in this environment, Plotly Plot will display, but in completely wrong dimensions. Therefore I will comment out the Plotly Part. The Rest won’t be changed so you could just run <code>ggplotly(p, tooltip = "text")</code> on your plot.</p>
<pre class="r"><code># library(plotly)

plot_week_performance &lt;- function(player_id, week_nr, plot_title) {
  p &lt;- pbp %&gt;%
    filter(
      receiver_player_id == player_id | rusher_player_id == player_id,
      week == week_nr
    ) %&gt;%
    calc_ff() %&gt;%
    arrange(time_in_sec) %&gt;%
    mutate(text_disp = glue::glue(&quot;Quater: {qtr}\nDrive: {drive}\nTime: {time}\n\nScore\n{away_team}: {total_away_score}\n{home_team}: {total_home_score}\n&quot;)) %&gt;%
    ggplot(aes(time_in_sec, ff_points_sum, color = primary)) +
    geom_line(size = 1) +
    geom_point(
      shape = 19, color = &quot;red&quot;, size = 2, data = . %&gt;% filter(touchdown == T),
      aes(time_in_sec, ff_points_sum, text = text_disp)
    ) +
    geom_point(
      shape = 19, color = &quot;black&quot;, size = 2, data = . %&gt;% filter(fumble == T),
      aes(time_in_sec, ff_points_sum, text = text_disp)
    ) +
    geom_vline(xintercept = c(900, 1800, 2700), alpha = .5, lty = 2) +
    expand_limits(x = c(0, 3600)) +
    scale_x_continuous(labels = NULL, breaks = NULL) +
    scale_color_identity() +
    theme_hubnr_thin() +
    labs(
      title = plot_title,
      x = &quot;Time&quot;,
      y = &quot;Fantasy Points&quot;
    ) +
    theme(
      legend.position = &quot;none&quot;,
      axis.ticks.x = element_blank(),
      axis.text.x = element_blank()
    )

  # ggplotly(p, tooltip = &quot;text&quot;)
  p
}</code></pre>
<p>Now that we have our plot generating function, we should test it on some of the best fantasy performances of the last season.<br />
In order to get results you need a player_id, which you can get by filtering the dataset for the specific player (Hint: Kenyan Drake would be ‘K.Drake’). I will omit this step for this post.</p>
<div id="kenyan-drake---week-15-and-16" class="section level3">
<h3>Kenyan Drake - Week 15 (and 16)</h3>
<p>Let’s start with Kenyan Drake. After a disappointing first half of the season on the Miami Dolphins, Drake got traded to the Arizona Cardinals, where he became fantasy gold immediatly. Especially his performances in the Fantasy Football playoffs made Kenyan Drake a <em>League Winner</em></p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3331-31385a388006&quot;, 15,
  &quot;Kenyan Drake - Week 15&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-5-1.png" width="2400" /></p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3331-31385a388006&quot;, 16,
  &quot;Kenyan Drake - Week 16&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-6-1.png" width="2400" /></p>
</div>
<div id="christian-mccaffrey---week-1" class="section level3">
<h3>Christian McCaffrey - Week 1</h3>
<p>McCaffrey was awesome the whole season long (execpt week 2). He started the season off with an incredible performance, racking up 42.9 fantasy points. The insane thing about McCaffreys season is, that this wasn’t even his best fantasy performance (47.7 pts - Week 5 vs. Jax).</p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3332-3830ec2c3be7&quot;, 1,
  &quot;Christian McCaffreye - Week 1&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-7-1.png" width="2400" /></p>
</div>
<div id="aaron-jones---week-5" class="section level3">
<h3>Aaron Jones - Week 5</h3>
<p>Aaron Jones performance in Week 5 was spectacular. He was the running back, that scored the most points in a single game this season.</p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3332-3933ed82c0de&quot;, 5,
  &quot;Aaron Jones - Week 5&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-8-1.png" width="2400" /></p>
</div>
<div id="sammy-watkins---week-1" class="section level3">
<h3>Sammy Watkins - Week 1</h3>
<p>Similar to McCaffrey, Sammy Watkins hat an unbelivable first week, scoring 46.8 points! Unfortuantely, unlike McCaffrey, he could not reproduce a similar performance again. In fact, Watkins Week 1 performance contributed more than a quater of his total points this season.</p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3133-32353107e672&quot;, 1,
  &quot;Sammy Watkins - Week 1&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-9-1.png" width="2400" /></p>
</div>
<div id="will-fuller---week-5" class="section level3">
<h3>Will Fuller - Week 5</h3>
<p>Similar to Watkins, Fuller also had one week, that outshined the rest of his season by a mile. He scored the most fantasy points in a game for a Wide Receiver this Year (53.7)</p>
<pre class="r"><code>plot_week_performance(
  &quot;32013030-2d30-3033-3331-3237332aee05&quot;, 5,
  &quot;Will Fuller - Week 5&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-10-1.png" width="2400" /></p>
</div>
</div>
<div id="visualization-of-season-perfomance" class="section level2">
<h2>Visualization of season perfomance</h2>
<p>Now that we looked at individual games, let’s have a look at the whole season of a player.<br />
To do that we need to create one of these plots for every game and display them together using <code>facet_wrap()</code>.<br />
Let’s create a function again. It’s will be very similar to the game plot function only a few things are different. We will color the odd weeks in the primary color and the even weeks in the secondary color of the players NFL team. We also need to convert <code>week</code> to factor in order to sort the facets.</p>
<pre class="r"><code>plot_season_performance &lt;- function(player_id, plot_title) {
  pbp %&gt;%
    filter(receiver_player_id == player_id | rusher_player_id == player_id) %&gt;%
    calc_ff_season() %&gt;%
    arrange(week) %&gt;%
    mutate(
      line_color = ifelse(week %% 2 == 1, primary, secondary),
      week_nr = week,
      week = glue::glue(&quot;Week {week} ({ff_points_total})&quot;)
    ) %&gt;%
    mutate_at(vars(week), funs(factor(., levels = unique(.)))) %&gt;%
    ggplot(aes(time_in_sec, ff_points_sum)) +
    geom_line(aes(color = line_color), size = 1) +
    geom_point(
      shape = 19, color = &quot;red&quot;, size = 2, data = . %&gt;% filter(touchdown == T),
      aes(time_in_sec, ff_points_sum)
    ) +
    geom_point(
      shape = 19, color = &quot;red&quot;, size = 2, data = . %&gt;% filter(touchdown == T),
      aes(time_in_sec, ff_points_sum)
    ) +
    scale_color_identity() +
    facet_wrap(~week) +
    geom_vline(xintercept = c(900, 1800, 2700), alpha = .5, lty = 2) +
    expand_limits(x = c(0, 3600)) +
    scale_x_continuous(labels = NULL, breaks = NULL) +
    theme_hubnr_thin(11) +
    labs(
      title = plot_title,
      x = NULL,
      y = &quot;Fantasy Points&quot;
    ) +
    theme(strip.text.x = element_text(size = 11, face = &quot;plain&quot;))
}</code></pre>
<p>Now we are able to look at performances over a whole season.</p>
<div id="christian-mccaffrey" class="section level3">
<h3>Christian McCaffrey</h3>
<p>Without a doubt the most valuable Running Back this season was Christian McCaffrey. Execpt for the previously mentioned Week 2 (and maybe Week 13) he was always great.</p>
<pre class="r"><code>plot_season_performance(
  &quot;32013030-2d30-3033-3332-3830ec2c3be7&quot;,
  &quot;Christian McCaffrey - Fantasy Football Season 2019&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-12-1.png" width="2400" /></p>
</div>
<div id="kenyan-drake" class="section level3">
<h3>Kenyan Drake</h3>
<p>As mentioned earlier Drake had a bad first half, so his season wasn’t that great. I mainly picked him because you can see how the coloring work. Drake was on the Dolphins for the first 8 weeks of the season and after that played for the Cardinals. You can see the coloring of the plot chaning accordingly.</p>
<pre class="r"><code>plot_season_performance(
  &quot;32013030-2d30-3033-3331-31385a388006&quot;,
  &quot;Kenyan Drake - Fantasy Football Season 2019&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-13-1.png" width="2400" /></p>
</div>
<div id="michael-thomas" class="section level3">
<h3>Michael Thomas</h3>
<p>Michael Thomas was the best Wide Receiver for Fantasy in the 2019 season.</p>
<pre class="r"><code>plot_season_performance(
  &quot;32013030-2d30-3033-3237-36359afa5261&quot;,
  &quot;Michael Thomas - Fantasy Football Season 2019&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-14-1.png" width="2400" /></p>
</div>
<div id="travis-kelce" class="section level3">
<h3>Travis Kelce</h3>
<p>Travis Kelce was the best Tight End for Fantasy in the 2019 season.</p>
<pre class="r"><code>plot_season_performance(
  &quot;32013030-2d30-3033-3035-3036654ef292&quot;,
  &quot;Travis Kelce - Fantasy Football Season 2019&quot;
)</code></pre>
<p><img src="/post/2020-08-18-visualizing-the-best-fantasy-football-performances-of-the-2019-season.en_files/figure-html/unnamed-chunk-15-1.png" width="2400" /></p>
</div>
</div>

    </div>

    





<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/fantasy-football/">fantasy-football</a>
  
  <a class="badge badge-light" href="/tag/nfl/">nfl</a>
  
  <a class="badge badge-light" href="/tag/r/">R</a>
  
  <a class="badge badge-light" href="/tag/rstats/">rstats</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/&amp;text=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/&amp;t=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season&amp;body=/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/&amp;title=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://web.whatsapp.com/send?text=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season%20/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/visualizing-the-best-fantasy-football-performances-of-the-2019-season/&amp;title=Visualizing%20the%20Best%20Fantasy%20Football%20Performances%20of%20the%202019%20Season" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>












  
  





  
    
    
    
      
    
    
    
    <div class="media author-card content-widget-hr">
      
        <img class="avatar mr-3 avatar-circle" src="https://s.gravatar.com/avatar/b07b6b314c1eef5c395e2137d8a1f95b?s=200')" alt="Max Hübner">
      

      <div class="media-body">
        <h5 class="card-title"><a href="/">Max Hübner</a></h5>
        <h6 class="card-subtitle">Computer Science Student</h6>
        <p class="card-text">Computer Science Student from Germany</p>
        <ul class="network-icon" aria-hidden="true">
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/maxhuebner36" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/maxhuebner" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
</ul>

      </div>
    </div>
  












  
  
  <div class="article-widget content-widget-hr">
    <h3>Related</h3>
    <ul>
      
      <li><a href="/post/cs-go-scrape/">Scraping Counter Strike Match History</a></li>
      
      <li><a href="/post/maexchen-game/">Examining Win Probabilities Playing Maexchen</a></li>
      
    </ul>
  </div>
  



  </div>
</article>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js"></script>
        
      

    

    
    

    
    
    <script>const code_highlighting = true;</script>
    

    
    
    <script>const isSiteThemeDark = false;</script>
    

    

    
    

    

    
    

    
    

    
    

    
    

    
    
    
    
    
    
    
    
    
    
    
    
    <script src="/js/academic.min.6f7ce8be710290b8c431bbc97f405d15.js"></script>

    






  
  
  <div class="container">
    <footer class="site-footer">
  

  <p class="powered-by">
    © Max Hübner 2020 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" class="back-to-top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

  </div>
  

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

</body>
</html>
